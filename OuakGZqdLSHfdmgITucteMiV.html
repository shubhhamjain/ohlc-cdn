<!-- Replace your current PDF links with this -->
<button onclick="requestSecureAccess('OuakGZqdLSHfdmgITucteMiV.pdf')" class="secure-access-btn">
  Access Document
</button>

<script>
async function requestSecureAccess(filename) {
  try {
    // Generate token through your system, not directly to Cloudflare
    const response = await fetch('/api/secure-access', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ filename })
    });
    
    const data = await response.json();
    
    if (data.success) {
      // Open in secure viewer with time-limited URL
      window.open(data.viewerUrl, '_blank', 'noopener,noreferrer');
    } else {
      alert('Access denied: ' + data.error);
    }
  } catch (error) {
    alert('Failed to request access');
  }
}
</script>
